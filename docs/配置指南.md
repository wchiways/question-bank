# AIæœåŠ¡å•†é…ç½®æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»å¦‚ä½•é…ç½®å„ä¸ªAIæœåŠ¡å•†å¹³å°ã€‚

## ðŸ“‹ æ”¯æŒçš„AIå¹³å°

ç›®å‰æ”¯æŒä»¥ä¸‹5ä¸ªAIæœåŠ¡å¹³å°ï¼š

| å¹³å° | provider_key | ç‰¹ç‚¹ | æŽ¨èæŒ‡æ•° |
|------|-------------|------|----------|
| ç¡…åŸºæµåŠ¨ | `siliconflow` | æ€§ä»·æ¯”é«˜ï¼Œæ”¯æŒå¤šç§æ¨¡åž‹ | â­â­â­â­â­ |
| é˜¿é‡Œç™¾ç‚¼ | `ali_bailian` | é˜¿é‡Œäº‘å¤§æ¨¡åž‹å¹³å° | â­â­â­â­ |
| æ™ºè°±AI | `zhipu` | æ¸…åŽKEGå®žéªŒå®¤ï¼ŒGLMç³»åˆ— | â­â­â­â­ |
| Google Studio | `google` | Google Gemini | â­â­â­ |
| OpenAI | `openai` | GPTç³»åˆ—ï¼Œå…¨çƒé¢†å…ˆ | â­â­â­â­â­ |

## ðŸ”§ é…ç½®æ­¥éª¤

### 1. å¤åˆ¶é…ç½®æ–‡ä»¶

```bash
cp config.example.json config.json
```

### 2. ç¼–è¾‘ config.json

```json
{
  "ai": {
    "default_provider": "siliconflow",
    "providers": {
      "siliconflow": {
        "enabled": true,
        "api_key": "sk-your-api-key-here"
      }
    }
  }
}
```

## ðŸ“– å„å¹³å°è¯¦ç»†é…ç½®

### ç¡…åŸºæµåŠ¨ (SiliconFlow)

**èŽ·å–APIå¯†é’¥**:
1. è®¿é—®: https://cloud.siliconflow.cn/
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥"APIå¯†é’¥"é¡µé¢
4. åˆ›å»ºæ–°çš„APIå¯†é’¥

**é…ç½®ç¤ºä¾‹**:
```json
{
  "siliconflow": {
    "name": "ç¡…åŸºæµåŠ¨",
    "enabled": true,
    "api_key": "sk-xxxxxxxxxxxxxxxx",
    "api_url": "https://api.siliconflow.cn/v1/chat/completions",
    "model": "Qwen/QwQ-32B",
    "max_tokens": 512,
    "temperature": 0.1
  }
}
```

**æŽ¨èæ¨¡åž‹**:
- `Qwen/QwQ-32B` - æŽ¨èï¼Œæ€§ä»·æ¯”é«˜
- `Qwen/Qwen2.5-72B-Instruct` - æ›´å¼ºçš„æŽ¨ç†èƒ½åŠ›
- `deepseek-ai/DeepSeek-V2.5` - æœ€æ–°ç‰ˆæœ¬

### é˜¿é‡Œç™¾ç‚¼ (Ali Bailian)

**èŽ·å–APIå¯†é’¥**:
1. è®¿é—®: https://bailian.console.aliyun.com/
2. ç™»å½•é˜¿é‡Œäº‘è´¦å·
3. å¼€é€šç™¾ç‚¼æœåŠ¡
4. åˆ›å»ºAPI-KEY

**é…ç½®ç¤ºä¾‹**:
```json
{
  "ali_bailian": {
    "name": "é˜¿é‡Œç™¾ç‚¼",
    "enabled": true,
    "api_key": "sk-xxxxxxxxxxxxxxxx",
    "api_url": "https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions",
    "model": "qwen-plus",
    "max_tokens": 512,
    "temperature": 0.1
  }
}
```

**æŽ¨èæ¨¡åž‹**:
- `qwen-plus` - æŽ¨è
- `qwen-turbo` - é€Ÿåº¦å¿«ï¼Œæˆæœ¬ä½Ž
- `qwen-max` - æœ€å¼ºæ€§èƒ½

### æ™ºè°±AI (Zhipu AI)

**èŽ·å–APIå¯†é’¥**:
1. è®¿é—®: https://open.bigmodel.cn/
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥"APIå¯†é’¥"é¡µé¢
4. åˆ›å»ºAPIå¯†é’¥

**é…ç½®ç¤ºä¾‹**:
```json
{
  "zhipu": {
    "name": "æ™ºè°±AI",
    "enabled": true,
    "api_key": "xxxxxxxxxxxxxxxx.xxxxxxxxxxxxxx",
    "api_url": "https://open.bigmodel.cn/api/paas/v4/chat/completions",
    "model": "glm-4-flash",
    "max_tokens": 512,
    "temperature": 0.1
  }
}
```

**æŽ¨èæ¨¡åž‹**:
- `glm-4-flash` - æŽ¨èï¼Œå…è´¹é¢åº¦é«˜
- `glm-4-plus` - æ€§èƒ½æ›´å¼º
- `glm-4-air` - é€Ÿåº¦å¿«

### Google Studio AI

**èŽ·å–APIå¯†é’¥**:
1. è®¿é—®: https://aistudio.google.com/app/apikey
2. ç™»å½•Googleè´¦å·
3. åˆ›å»ºAPIå¯†é’¥

**é…ç½®ç¤ºä¾‹**:
```json
{
  "google": {
    "name": "Google Studio AI",
    "enabled": true,
    "api_key": "AIzaxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
    "api_url": "https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent",
    "model": "gemini-pro",
    "max_tokens": 512,
    "temperature": 0.1
  }
}
```

**æŽ¨èæ¨¡åž‹**:
- `gemini-pro` - æŽ¨è
- `gemini-1.5-flash` - é€Ÿåº¦å¿«
- `gemini-1.5-pro` - æœ€æ–°ç‰ˆæœ¬

### OpenAI

**èŽ·å–APIå¯†é’¥**:
1. è®¿é—®: https://platform.openai.com/api-keys
2. ç™»å½•OpenAIè´¦å·
3. åˆ›å»ºæ–°çš„APIå¯†é’¥

**é…ç½®ç¤ºä¾‹**:
```json
{
  "openai": {
    "name": "OpenAI",
    "enabled": true,
    "api_key": "sk-proj-xxxxxxxxxxxxxxxx",
    "api_url": "https://api.openai.com/v1/chat/completions",
    "model": "gpt-3.5-turbo",
    "max_tokens": 512,
    "temperature": 0.1
  }
}
```

**æŽ¨èæ¨¡åž‹**:
- `gpt-3.5-turbo` - æŽ¨èï¼Œæ€§ä»·æ¯”é«˜
- `gpt-4o-mini` - æ›´å¿«æ›´ä¾¿å®œ
- `gpt-4o` - æœ€å¼ºæ€§èƒ½

## ðŸ”„ åˆ‡æ¢AIæä¾›å•†

### æ–¹æ³•1: ä¿®æ”¹é»˜è®¤æä¾›å•†

ç¼–è¾‘ `config.json`:
```json
{
  "ai": {
    "default_provider": "openai"  // æ”¹ä¸ºä½ æƒ³è¦çš„æä¾›å•†
  }
}
```

### æ–¹æ³•2: ä¸´æ—¶æŒ‡å®šæä¾›å•†

åœ¨ä»£ç ä¸­åˆ›å»ºAIæœåŠ¡æ—¶æŒ‡å®š:
```python
from app.services.ai_service import AIAsyncService

# ä½¿ç”¨OpenAI
ai_service = AIAsyncService(provider_name="openai")
```

## ðŸ›¡ï¸ å®‰å…¨å»ºè®®

1. **ä¸è¦æäº¤APIå¯†é’¥åˆ°Git**
   - `config.json` å·²åœ¨ `.gitignore` ä¸­
   - åªæäº¤ `config.example.json`

2. **ä½¿ç”¨çŽ¯å¢ƒå˜é‡** (å¯é€‰)
   ```json
   {
     "api_key": "${SILICONFLOW_API_KEY}"
   }
   ```

3. **å®šæœŸè½®æ¢å¯†é’¥**
   - å»ºè®®æ¯3ä¸ªæœˆæ›´æ¢ä¸€æ¬¡
   - å¦‚æžœæ³„éœ²ç«‹å³æ›´æ¢

## ðŸ“Š è´¹ç”¨å¯¹æ¯”

| å¹³å° | å…è´¹é¢åº¦ | è¶…å‡ºåŽè´¹ç”¨ | æ€§ä»·æ¯” |
|------|---------|-----------|--------|
| ç¡…åŸºæµåŠ¨ | æ–°ç”¨æˆ·é€é¢åº¦ | Â¥0.001/1K tokens | â­â­â­â­â­ |
| é˜¿é‡Œç™¾ç‚¼ | 100ä¸‡tokens | Â¥0.008/1K tokens | â­â­â­â­ |
| æ™ºè°±AI | 25M tokens/å¤© | Â¥0.1/1K tokens | â­â­â­â­ |
| Google | å…è´¹ | æŒ‰ä½¿ç”¨é‡ | â­â­â­ |
| OpenAI | $5å…è´¹é¢åº¦ | $0.002/1K tokens | â­â­â­ |

*æ³¨: è´¹ç”¨ä»…ä¾›å‚è€ƒï¼Œä»¥å„å¹³å°å®žé™…ä»·æ ¼ä¸ºå‡†*

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•åŒæ—¶ä½¿ç”¨å¤šä¸ªAIæä¾›å•†ï¼Ÿ

A: åœ¨config.jsonä¸­å¯ç”¨å¤šä¸ªæä¾›å•†:
```json
{
  "ai": {
    "default_provider": "siliconflow",
    "providers": {
      "siliconflow": {"enabled": true, "api_key": "..."},
      "openai": {"enabled": true, "api_key": "..."}
    }
  }
}
```

### Q: APIè°ƒç”¨å¤±è´¥ä¼šæ€Žæ ·ï¼Ÿ

A: ç³»ç»Ÿä¼šè‡ªåŠ¨é‡è¯•3æ¬¡ï¼Œå¦‚æžœä»ç„¶å¤±è´¥ä¼šè¿”å›žç©ºç­”æ¡ˆã€‚

### Q: å¦‚ä½•æ·»åŠ æ–°çš„AIæä¾›å•†ï¼Ÿ

A:
1. åœ¨ `config.json` çš„ `ai.providers` ä¸­æ·»åŠ é…ç½®
2. ç¡®ä¿APIå…¼å®¹OpenAIæ ¼å¼æˆ–Googleæ ¼å¼
3. é‡å¯åº”ç”¨

### Q: é…ç½®æ–‡ä»¶æœ‰æ ¼å¼éªŒè¯å—ï¼Ÿ

A: æœ‰ï¼åº”ç”¨å¯åŠ¨æ—¶ä¼šä½¿ç”¨PydanticéªŒè¯é…ç½®æ ¼å¼ã€‚

## ðŸ“ž æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·:
- æäº¤Issue: https://github.com/wchiways/question-bank/issues
- æŸ¥çœ‹æ–‡æ¡£: https://github.com/wchiways/question-bank/wiki

---

> æœ€åŽæ›´æ–°: 2025-12-27
> ç‰ˆæœ¬: v2.0.0
